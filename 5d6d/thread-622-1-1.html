<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<script src="mjxset.js"></script>
<script src="mjx3/tex-svg.js"></script>


<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">



<meta http-equiv="x-ua-compatible" content="ie=7">

<title>从产生单位圆内的随机点联想到的 - 高等数学讨论 -  悠闲数学娱乐论坛  - Powered by Discuz!</title>

<meta name="description" content=" 悠闲数学娱乐论坛  本帖最后由 都市侠影 于 2012-7-23 12:30 编辑 Kuing版的这个帖子http://kkkkuingggg.5d6d.net/thread-405-1-1.html里涉及到要随机产生单位圆内的点，并要符合 ... - Discuz! Board">






<link rel="stylesheet" type="text/css" href="thread.css" media="all">
</head><body id="viewthread" onkeydown="if(event.keyCode==27) return false;">
<div id="append_parent"></div><div id="ajaxwaitid"></div>
<div id="header">
<div class="wrap s_clear">
<h2><a indepth="true" href="index.html" title="悠闲数学娱乐论坛"><img src="k.png" alt="悠闲数学娱乐论坛" border="0"></a></h2>


</div>
</div>





<div id="nav">
<a indepth="true" href="index.html">悠闲数学娱乐论坛</a> » <a indepth="true" href="forum-17-1.html">高等数学讨论</a> » 从产生单位圆内的随机点联想到的</div>

<div id="ad_text"></div><div id="wrap" class="wrap s_clear threadfix">
    <div id="headsearch" class="headsearch">
        



        
    </div>
<div class="forumcontrol">
<table cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="modaction">
</td>
<td>
<span class="pageback"><a indepth="true" href="forum-17-1.html">返回列表</a></span>



</td>
</tr>
</tbody></table>
</div>



<div id="postlist" class="mainbox viewthread"><div id="post_3047"><table id="pid3047" summary="pid3047" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="postauthor">
<div class="postinfo">
<a target="_top" href="#" style="margin-left: 20px; font-weight: 800;">都市侠影</a>

</div>
<div class="popupmenu_popup userinfopanel" id="userinfo3047" style="display: none; position: absolute; margin-top: -11px;">
<div class="popavatar">
<div id="userinfo3047_ma"></div>

</div>
<div class="popuserinfo">
<p>
都市侠影
<em>当前离线
</em>
</p>

<dl class="s_clear"><dt>UID</dt><dd>227&nbsp;</dd><dt>帖子</dt><dd>115&nbsp;</dd><dt>精华</dt><dd>0&nbsp;</dd><dt>积分</dt><dd>647&nbsp;</dd><dt>威望</dt><dd>0 &nbsp;</dd><dt>阅读权限</dt><dd>50&nbsp;</dd><dt>在线时间</dt><dd>72 小时&nbsp;</dd><dt>注册时间</dt><dd>2012-6-5&nbsp;</dd><dt>最后登录</dt><dd>2012-12-7&nbsp;</dd></dl>
<div class="imicons">

</div>
<div id="avatarfeed"><span id="threadsortswait"></span></div>
</div>
</div>
 <div id="userinfo3047_a">
<div class="avatar" style="text-align: center; margin-left: 0px; margin-right: 0px;"><a href="#" target="_top"><img src="27_avatar_middle_001.jpg" onerror="this.onerror=null;this.src='none.gif'"></a></div>
<p><em>高级会员</em></p>
</div>
<p></p>
<dl class="profile s_clear"><dt>UID</dt><dd>227&nbsp;</dd><dt>帖子</dt><dd>115&nbsp;</dd></dl></td>
<td class="postcontent">
<div class="postinfo">
<div class="posterinfo">
                <strong><em>1</em><sup>#</sup></strong>

<div class="authorinfo">
<img class="authicon" id="authicon3047" src="online_member.gif" onclick="showauthor(this, 'userinfo3047');">
<em id="authorposton3047">发表于 2012-7-21 20:52</em>


                </div>
</div>
</div>
<div class="defaultpost">
<div id="ad_thread2_0"></div>        <div id="ad_thread4_0"></div>
<div class="postmessage firstpost">
<div id="threadtitle">
<h1>从产生单位圆内的随机点联想到的</h1>
</div>
<div class="t_msgfontfix">
                    <table style="width: 100%;" cellpadding="0" cellspacing="0">
                        <tbody><tr><td class="t_msgfont" id="postmessage_3047">
                                <div id="ad_thread3_0"></div>                                <i class="pstatus"> 本帖最后由 都市侠影 于 2012-7-23 12:30 编辑 </i><br>
<br>
Kuing版的这个帖子<a indepth="true" href="thread-405-1-1.html" target="_top">http://kkkkuingggg.5d6d.net/thread-405-1-1.html</a>里涉及到要随机产生单位圆内的点，并要符合几何概率，也就是说，点落在任意面积相等区域上的概率都应当是相等的。他那里采用的是从圆外接正方形中随机产生点，若点不在圆内则重新生成点，直到落在圆内为止。我当时给了个建议，说用极坐标来生成，先在0到1上均匀生成r，然后随机生成角度，最后 $x=\cos\theta$,$y=\sin\theta$。这个方法经Kuing指出其实不符合几何概率，详细的认证可以参考这篇文章<a href="http://blog.csdn.net/codeboycjy/article/details/6225886" target="_top">http://blog.csdn.net/codeboycjy/article/details/6225886</a>，我当时就想改进这个方法，直觉告诉我通过改进是可以达到要求的。<br>
原来的方法问题在于，点落在圆 $x^2+y^2&lt;r^2$ 内的概率是 $r$,跟半径是成正比的，这样一来，落在圆 $x^2+y^2&lt;(\frac{1}{2})^2$ 内的概率是 $\frac{1}{2}$,这个就不符合要求了，那么问题的根源在哪呢，在于随着半径 $r$ 的增大，圆 $x^2+y^2=r^2$ 的周长变长了，但按照原来的方法，半径取到 $r$ 的概率却是一成不变的，如果这个概率能随着 $r$ 增大而增大，那么问题有望解决。下面就按照这个思路来展开。<br>
关键在于半径 $r$ 如何产生，现在把它看成一个连续型随机变量，定义它的分布函数为<br>
\[<br>
F(t)=P(r&lt;t)=<br>
\begin{cases}<br>
0 &amp; x \leqslant 0&nbsp;&nbsp;\\<br>
t^2 &amp; 0&lt;x\leqslant 1 \\<br>
1 &amp; x&gt;1<br>
\end{cases}<br>
\]<br>
这个 $t^2$ 是怎样想到的呢？可以这样，因为我希望这个随机变量 $r$ 取小于 $t$ 的概率，应当等于圆 $x^2+y^2=t^2$ 与单位圆的面积之比，也就是 $t^2$， 这样就得到了它的分布函数，那么它的密度函数自然就是<br>
\[<br>
f(t)=<br>
\begin{cases}<br>
2t &amp; 0&lt;t&lt;1 \\<br>
0 &amp; \textrm{else}<br>
\end{cases}<br>
\]<br>
这样的分布凭直觉是符合要求的，按照这个分布，随着 $r$ 的增大，点落在圆周 $x^2+y^2=r^2$ 上的概率也会随着变大。可以简单的看一下它落在圆环 $r_1^2&lt;x^2+y^2&lt;r_2^2$ 上的概率：<br>
\[<br>
P=\int_{r_1}^{r_2}f(x)dx=r_2^2-r_1^2<br>
\]<br>
显然这个概率正是需要的概率。<br>
当然这并不能说明，按照这个分布，点落在任意等面积的区域上的概率都是相等的，现在就来完成这一点的证明。<br>
在单位圆任意取一个区域 $D$，假如它在极坐标系下可以表示为<br>
\[<br>
\rho_1(\theta)&lt;\rho&lt;\rho_2(\theta) \quad \alpha&lt;\theta&lt;\beta<br>
\]<br>
那么点落在这个区域上的概率就是<br>
\begin{align}<br>
&amp;\int\!\!\!\int_Df(t)d\sigma \\<br>
&amp;=\frac{1}{2}\int_{\alpha}^{\beta}d\theta\int_{\rho_1(\theta)}^{\rho_2(\theta)}f(t)dt \\<br>
&amp;=\frac{1}{2}\int_{\alpha}^{\beta}(\rho_2^2(\theta)-\rho_1^2(\theta))d\theta<br>
\end{align}<br>
这个正好是这个区域的面积，这就说明上面的那个分布的确满足几何概率。<br>
好了，分布有了，但是如何实现呢？现在的计算机都可以容易的实现区间 $[0,1]$ 上的均匀分布，关键如何用这个均匀分布去实现前面所需要的那个分布，也就是说，如何才能让一个过程产生一个数，这个过程必须使得产生的数小于任何数 $t(0&lt;t&lt;1)$ 的概率都是 $t^2$。<br>
更让我感兴趣的问题是，如何实现一个指定分布函数的分布？<br>
一个直观的想法就是利用 $[0,1]$ 上的均匀分布，假如随机变量 $s$ 服从这个均匀分布，然后我们的随机变量就作为一个 $s$ 的函数 $r=h(s)$，为了方便，假定 $h(s)$ 是一个单调增加的函数，那么<br>
\[<br>
F(t)=P(r&lt;t)=P(h(s)&lt;t)=P(s&lt;h^{-1}(t))=h^{-1}(t)<br>
\]<br>
这就说明了，要想随机变量 $r$ 的分布函数是 $F(t)$，只要把转换函数 $h(s)$ 取为分布函数 $F(t)$ 的反函数就可以了，至于 $h(s)$ 单调增加，因为分布函数本来就是单调不减的，只要给他加个严格增加的限制就可以了。这样就实现了一个指定分布函数的分布。<!--++ plugin_code qcomic begin-->
<!--++ plugin_code qcomic end--></td></tr></tbody></table>
</div>

<div id="post_rate_div_3047"></div>

                                                
                <div id="relate_subject" style="margin-top: 10px; width: 99%;"></div>
                
                
                <div class="modact">本主题由 kuing 于 2012-7-26 00:08 移动</div>
</div>

</div>

<div id="ad_thread1_0"></div></td>
</tr>
<tr>
<td class="postauthor"></td>
<td class="postcontent">

        <div class="postactions">
<div class="postact s_clear">
<em>


</em>
<p>


</p>
</div>
</div>
</td>
</tr>
<tr class="threadad">
<td class="postauthor"></td>
<td class="adcontent">
<div id="ad_interthread"></div></td>
</tr>
</tbody></table>
</div><div id="post_3088"><table id="pid3088" summary="pid3088" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="postauthor">
<div class="postinfo">
<a target="_top" href="#" style="margin-left: 20px; font-weight: 800;">都市侠影</a>

</div>
<div class="popupmenu_popup userinfopanel" id="userinfo3088" style="display: none; position: absolute; margin-top: -11px;">
<div class="popavatar">
<div id="userinfo3088_ma"></div>

</div>
<div class="popuserinfo">
<p>
都市侠影
<em>当前离线
</em>
</p>

<dl class="s_clear"><dt>UID</dt><dd>227&nbsp;</dd><dt>帖子</dt><dd>115&nbsp;</dd><dt>精华</dt><dd>0&nbsp;</dd><dt>积分</dt><dd>647&nbsp;</dd><dt>威望</dt><dd>0 &nbsp;</dd><dt>阅读权限</dt><dd>50&nbsp;</dd><dt>在线时间</dt><dd>72 小时&nbsp;</dd><dt>注册时间</dt><dd>2012-6-5&nbsp;</dd><dt>最后登录</dt><dd>2012-12-7&nbsp;</dd></dl>
<div class="imicons">

</div>
<div id="avatarfeed"><span id="threadsortswait"></span></div>
</div>
</div>
 <div id="userinfo3088_a">
<div class="avatar" style="text-align: center; margin-left: 0px; margin-right: 0px;"><a href="#" target="_top"><img src="27_avatar_middle_001.jpg" onerror="this.onerror=null;this.src='none.gif'"></a></div>
<p><em>高级会员</em></p>
</div>
<p></p>
<dl class="profile s_clear"><dt>UID</dt><dd>227&nbsp;</dd><dt>帖子</dt><dd>115&nbsp;</dd></dl></td>
<td class="postcontent">
<div class="postinfo">
<div class="posterinfo">
                <strong><em>2</em><sup>#</sup></strong>
<div class="pagecontrol">
</div>
<div class="authorinfo">
<img class="authicon" id="authicon3088" src="online_member.gif" onclick="showauthor(this, 'userinfo3088');">
<em id="authorposton3088">发表于 2012-7-23 12:24</em>


                </div>
</div>
</div>
<div class="defaultpost">
<div id="ad_thread2_1"></div>        <div id="ad_thread4_1"></div>
<div class="postmessage ">
<div class="t_msgfontfix">
                    <table style="width: 100%;" cellpadding="0" cellspacing="0">
                        <tbody><tr><td class="t_msgfont" id="postmessage_3088">
                                <div id="ad_thread3_1"></div>                                终于想出来了，不容易哇哇塞<img src="e120.gif" smilieid="soso_e120" alt="" border="0"><!--++ plugin_code qcomic begin-->
<!--++ plugin_code qcomic end--></td></tr></tbody></table>
</div>

<div id="post_rate_div_3088"></div>

                </div>

</div>

<div id="ad_thread1_1"></div></td>
</tr>
<tr>
<td class="postauthor"></td>
<td class="postcontent">
        <div class="postactions">
<div class="postact s_clear">
<em>


</em>
<p>

</p>
</div>
</div>
</td>
</tr>
<tr class="threadad">
<td class="postauthor"></td>
<td class="adcontent">
</td>
</tr>
</tbody></table>
</div><div id="post_3133"><table id="pid3133" summary="pid3133" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="postauthor">
<div class="postinfo">
<a target="_top" href="#" style="margin-left: 20px; font-weight: 800;">都市侠影</a>

</div>
<div class="popupmenu_popup userinfopanel" id="userinfo3133" style="display: none; position: absolute; margin-top: -11px;">
<div class="popavatar">
<div id="userinfo3133_ma"></div>

</div>
<div class="popuserinfo">
<p>
都市侠影
<em>当前离线
</em>
</p>

<dl class="s_clear"><dt>UID</dt><dd>227&nbsp;</dd><dt>帖子</dt><dd>115&nbsp;</dd><dt>精华</dt><dd>0&nbsp;</dd><dt>积分</dt><dd>647&nbsp;</dd><dt>威望</dt><dd>0 &nbsp;</dd><dt>阅读权限</dt><dd>50&nbsp;</dd><dt>在线时间</dt><dd>72 小时&nbsp;</dd><dt>注册时间</dt><dd>2012-6-5&nbsp;</dd><dt>最后登录</dt><dd>2012-12-7&nbsp;</dd></dl>
<div class="imicons">

</div>
<div id="avatarfeed"><span id="threadsortswait"></span></div>
</div>
</div>
 <div id="userinfo3133_a">
<div class="avatar" style="text-align: center; margin-left: 0px; margin-right: 0px;"><a href="#" target="_top"><img src="27_avatar_middle_001.jpg" onerror="this.onerror=null;this.src='none.gif'"></a></div>
<p><em>高级会员</em></p>
</div>
<p></p>
<dl class="profile s_clear"><dt>UID</dt><dd>227&nbsp;</dd><dt>帖子</dt><dd>115&nbsp;</dd></dl></td>
<td class="postcontent">
<div class="postinfo">
<div class="posterinfo">
                <strong><em>3</em><sup>#</sup></strong>
<div class="pagecontrol">
</div>
<div class="authorinfo">
<img class="authicon" id="authicon3133" src="online_member.gif" onclick="showauthor(this, 'userinfo3133');">
<em id="authorposton3133">发表于 2012-7-24 13:22</em>


                </div>
</div>
</div>
<div class="defaultpost">
<div id="ad_thread2_2"></div>        <div id="ad_thread4_2"></div>
<div class="postmessage ">
<div class="t_msgfontfix">
                    <table style="width: 100%;" cellpadding="0" cellspacing="0">
                        <tbody><tr><td class="t_msgfont" id="postmessage_3133">
                                <div id="ad_thread3_2"></div>                                好象这个也该放到高等数学版块？用到了分布函数这样的高级概率工具，汗……<!--++ plugin_code qcomic begin-->
<!--++ plugin_code qcomic end--></td></tr></tbody></table>
</div>

<div id="post_rate_div_3133"></div>

                </div>

</div>

<div id="ad_thread1_2"></div></td>
</tr>
<tr>
<td class="postauthor"></td>
<td class="postcontent">
        <div class="postactions">
<div class="postact s_clear">
<em>


</em>
<p>

</p>
</div>
</div>
</td>
</tr>
<tr class="threadad">
<td class="postauthor"></td>
<td class="adcontent">
</td>
</tr>
</tbody></table>
</div><div id="post_3202"><table id="pid3202" summary="pid3202" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="postauthor">
<div class="postinfo">
<a target="_top" href="#" style="margin-left: 20px; font-weight: 800;">kuing</a>

</div>
<div class="popupmenu_popup userinfopanel" id="userinfo3202" style="display: none; position: absolute; margin-top: -11px;">
<div class="popavatar">
<div id="userinfo3202_ma"></div>

</div>
<div class="popuserinfo">
<p>
kuing
<em>当前在线
</em>
</p>

<dl class="s_clear"><dt>UID</dt><dd>1&nbsp;</dd><dt>帖子</dt><dd>3992&nbsp;</dd><dt>精华</dt><dd>0&nbsp;</dd><dt>积分</dt><dd>25208&nbsp;</dd><dt>威望</dt><dd>6 &nbsp;</dd><dt>阅读权限</dt><dd>200&nbsp;</dd><dt>性别</dt><dd>男&nbsp;</dd><dt>来自</dt><dd>广东广州&nbsp;</dd><dt>在线时间</dt><dd>4648 小时&nbsp;</dd><dt>注册时间</dt><dd>2011-9-25&nbsp;</dd><dt>最后登录</dt><dd>2013-6-6&nbsp;</dd></dl>
<div class="imicons">

</div>
<div id="avatarfeed"><span id="threadsortswait"></span></div>
</div>
</div>
 <a name="lastpost"></a><div id="userinfo3202_a">
<div class="avatar" style="text-align: center; margin-left: 0px; margin-right: 0px;"><a href="#" target="_top"><img src="01_avatar_middle.jpg" onerror="this.onerror=null;this.src='none.gif'"></a></div>
<p><em>管理员</em></p>
</div>
<p></p>
<dl class="profile s_clear"><dt>UID</dt><dd>1&nbsp;</dd><dt>帖子</dt><dd>3992&nbsp;</dd></dl></td>
<td class="postcontent">
<div class="postinfo">
<div class="posterinfo">
                <strong><em>4</em><sup>#</sup></strong>
<div class="pagecontrol">
</div>
<div class="authorinfo">
<img class="authicon" id="authicon3202" src="online_admin.gif" onclick="showauthor(this, 'userinfo3202')">
<em id="authorposton3202">发表于 2012-7-26 00:04</em>


                </div>
</div>
</div>
<div class="defaultpost">
<div id="ad_thread2_3"></div>        <div id="ad_thread4_3"></div>
<div class="postmessage ">
<div class="t_msgfontfix">
                    <table style="width: 100%;" cellpadding="0" cellspacing="0">
                        <tbody><tr><td class="t_msgfont" id="postmessage_3202">
                                <div id="ad_thread3_3"></div>                                <strong> 3# <i>都市侠影</i> </strong><br>
<br>
嗯，还是决定移过去了。<br>
PS、\int\!\!\!\int 可以用 \iint 代之<br>
\[ \text{\int\!\!\!\int \approx \iint : }\int\!\!\!\int \approx \iint \]<!--++ plugin_code qcomic begin-->
<!--++ plugin_code qcomic end--></td></tr></tbody></table>
</div>

<div id="post_rate_div_3202"></div>

                </div>

</div>

<div id="ad_thread1_3"></div><div class="signatures" style="">
<table cellpadding="0" cellspacing="0">
<tbody><tr>
<td>
基本信息：kuing，GG，19880618~?，地道广州人，高中毕业，无业游民，不等式爱好者，论坛混混；<br>
现状：冇钱又冇样、冇型又冇款、冇身材又冇文采、冇学历又冇能力、冇高度冇速度冇力度兼夹冇野做！（粤语）</td>
</tr>
</tbody></table>
</div>
</td>
</tr>
<tr>
<td class="postauthor"></td>
<td class="postcontent">
        <div class="postactions">
<div class="postact s_clear">
<em>


</em>
<p>

</p>
</div>
</div>
</td>
</tr>
<tr class="threadad">
<td class="postauthor"></td>
<td class="adcontent">
</td>
</tr>
</tbody></table>
</div></div>

<div id="postlistreply" class="mainbox viewthread"><div id="post_new" style="display: none;"></div></div>




<div class="forumcontrol s_clear">
<table cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="modaction">
</td>
<td>
<span class="pageback"><a indepth="true" href="forum-17-1.html">返回列表</a></span>


</td>
</tr>
</tbody></table>
</div>



</div>






<div id="footer">
<div class="wrap s_clear">
<div id="footlink">

<p class="smalltext">
GMT+8, 2013-6-6 19:50.
</p>

</div>


	</div>
</div>

</body></html>
